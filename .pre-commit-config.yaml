repos:
  - repo: https://github.com/mezo-org/pre-commit-hooks.git
    rev: 31903eabdb97f5a3375fb1ea419ff782de64d7e7
    hooks:
      - id: check-added-large-files
  - repo: local
    hooks:
      - id: go-format
        name: 'format go'
        # gofumpt does not return error exit code now, so we need to workaround
        # it with `test -z`. See https://github.com/mvdan/gofumpt/issues/114.
        entry: /usr/bin/env bash -c 'test -z "$(make -s format)"'
        files: '\.go$'
        language: script
        description: "Format Go code"